<!DOCTYPE html>
<html>
<head>
    <title>{{ staff.get_full_name }} ID Card</title>
    <style>
        /* ======================================= */
        /* 1. PDF PRINT SIZE DEFINITION (CRITICAL) */
        /* ======================================= */
        @page {
            size: 2.125in 3.375in; /* Portrait CR80 size */
            margin: 0;
            padding: 0;
        }
        
        /* ======================================= */
        /* 2. BASE STYLES AND PAGE BREAK */
        /* ======================================= */
        body {
            margin: 0;
            padding: 0;
            /* Using a common sans-serif font for better cross-platform compatibility */
            font-family: Arial, sans-serif; 
        }
        
        /* Tailwind-based dimensions for the card wrapper */
        .card-wrapper {
            width: 2.125in;
            height: 3.375in;
            position: relative; /* For absolute positioning */
            overflow: hidden;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1); /* shadow-xl */
        }
        
        /* Force a page break after the front side for two-sided printing */
        .card-front-page {
            page-break-after: always;
        }

        /* ======================================= */
        /* 3. TAILWIND UTILITY CONVERSIONS */
        /* ======================================= */

        /* Layout and Dimensions */
        .relative { position: relative; }
        .flex { display: flex; }
        .flex-col { flex-direction: column; }
        .flex-shrink-0 { flex-shrink: 0; }
        .flex-grow { flex-grow: 1; }
        .items-center { align-items: center; }
        .justify-center { justify-content: center; }
        .justify-between { justify-content: space-between; }
        .text-center { text-align: center; }
        .absolute { position: absolute; }
        .bottom-1\.5 { bottom: 0.1875rem; /* 6px */ }
        .left-0 { left: 0; }
        .right-0 { right: 0; }

        /* Typography */
        .text-xs { font-size: 0.75rem; /* 12px */ }
        .text-sm { font-size: 0.875rem; /* 14px */ }
        .text-xl { font-size: 1.25rem; /* 20px */ }
        .text-3xl { font-size: 1.875rem; /* 30px */ }
        .text-4xl { font-size: 2.25rem; /* 36px */ }
        .text-\[0\.5rem\] { font-size: 0.5rem; }
        .text-\[0\.6rem\] { font-size: 0.6rem; }
        .text-\[0\.65rem\] { font-size: 0.65rem; }
        .text-\[0\.55rem\] { font-size: 0.55rem; }
        .text-\[0\.45rem\] { font-size: 0.45rem; }

        .leading-tight { line-height: 1.25; }
        .font-bold { font-weight: 700; }
        .font-extrabold { font-weight: 800; }
        .font-black { font-weight: 900; }
        .font-semibold { font-weight: 600; }
        .font-medium { font-weight: 500; }
        .uppercase { text-transform: uppercase; }

        /* Spacing */
        .p-3 { padding: 0.75rem; }
        .pt-4 { padding-top: 1rem; }
        .pb-1 { padding-bottom: 0.25rem; }
        .py-2 { padding-top: 0.5rem; padding-bottom: 0.5rem; }
        .px-1 { padding-left: 0.25rem; padding-right: 0.25rem; }
        .mt-1 { margin-top: 0.25rem; }
        .mt-2 { margin-top: 0.5rem; }
        .mt-3 { margin-top: 0.75rem; }
        .space-y-0 > * + * { margin-top: 0; }
        .space-y-1 > * + * { margin-top: 0.25rem; }
        .space-y-2 > * + * { margin-top: 0.5rem; }

        /* Borders and Corner Radius */
        .rounded-lg { border-radius: 0.5rem; }
        .rounded-md { border-radius: 0.375rem; }
        .rounded { border-radius: 0.25rem; }
        .border { border-width: 1px; border-style: solid; }
        .border-2 { border-width: 2px; border-style: solid; }
        .border-3 { border-width: 3px; border-style: solid; }
        .border-t { border-top-width: 1px; border-top-style: solid; }

        /* Sizing (Images, QR) */
        .w-24 { width: 6rem; }
        .h-28 { height: 7rem; }
        .w-16 { width: 4rem; }
        .h-16 { height: 4rem; }
        .object-cover { object-fit: cover; }
        
        /* Colors (Must be defined using hex codes for consistency) */
        .bg-white { background-color: #ffffff; }
        .bg-gray-200 { background-color: #e5e7eb; }
        .bg-blue-600 { background-color: #2563eb; }
        .bg-blue-50 { background-color: #eff6ff; }
        
        .text-white { color: #ffffff; }
        .text-gray-900 { color: #111827; }
        .text-gray-800 { color: #1f2937; }
        .text-gray-700 { color: #374151; }
        .text-gray-600 { color: #4b5563; }
        .text-gray-500 { color: #6b7280; }
        .text-gray-400 { color: #9ca3af; }
        .text-blue-700 { color: #1d4ed8; }
        .text-blue-600 { color: #2563eb; }
        .text-red-600 { color: #dc2626; }

        .border-blue-600 { border-color: #2563eb; }
        .border-blue-400 { border-color: #60a5fa; }
        .border-gray-400 { border-color: #9ca3af; }
        .border-gray-300 { border-color: #d1d5db; }
        
        /* Gradients (Complex, often simplified for PDF. xhtml2pdf may require specific syntax) */
        .bg-gradient-to-b { 
            /* Simplified gradient for xhtml2pdf or WeasyPrint. 
            Often best handled by a linear-gradient property if supported. */
            background: linear-gradient(to bottom, #eff6ff, #ffffff); 
        }

    </style>
</head>
<body>
    
    <div class="card-front-page">
        {# Include the card design, rendered as the Front side #}
        {% with side='front' %}
            <div class="card-wrapper">
                {% include "staff/card_design.html" %}
            </div>
        {% endwith %}
    </div>

    <div class="card-back-page">
        {# Include the card design, rendered as the Back side #}
        {% with side='back' %}
            <div class="card-wrapper">
                {% include "staff/card_design.html" %}
            </div>
        {% endwith %}
    </div>

</body>
</html>